{% macro render_field(field, label=True, placeholder=None, hidden=None) %}
{% if field.errors %}
<div class="form-component error">
    {% for error in field.errors %}
    <p>{{ error }}</p>
    {% endfor %}
{% elif field.flags.error %}
<div class="form-component flag">
    {{ field.flags.error }}
{% elif hidden %}
<div class="form-component hidden">
{% else%}
<div class="form-component">
{% endif %}
    {% set css_class = 'form-control ' + kwargs.pop('class', '') %}
    {% if label %}{{ field.label }}{% endif %}
    {{ field(class=css_class, placeholder=placeholder, **kwargs) }}
</div>
{% endmacro %}

{% macro modal() %}
<div class="opaque hidden">
    <div class="modal-wrapper">
        <span class="close-modal">
            <a href="#close-modal">
                <i class="fa fa-times fa-2x"></i>
            </a>
        </span>
        <div class="modal">
            {{ caller() }}
        </div>
    </div>
</div>
{% endmacro %}

{% macro toggle(on, off, start_on=True) %}
<div class="toggle-wrapper {% if start_on %}active{% endif %}">
    <a href="#toggle">
        <span class="on">
            <span class="inner">{{ on }}</span>
        </span>
        <span class="off">
            <span class="inner">{{ off }}</span>
        </span>
        <span class="label">
            <i class="fa fa-arrow-right"></i>
        </span>
    </a>
</div>
{% endmacro %}

{% macro confirm(text, action) %}
<div class="confirm-wrapper">
    <div class="confirm confirm-hidden">
        <form class="confirm-form" method="POST" action="{{ action }}">
            <input class="confirm-cancel" value="Cancel" type="button" />
            <input class="confirm-confirm" value="Confirm" type="submit" />
        </form>
    </div>
    <a href="#open-confirm" class="confirm-prompt btn">{{ text }}</a>
</div>
{% endmacro %}



